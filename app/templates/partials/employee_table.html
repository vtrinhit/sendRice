{% if employees %}
<div class="bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden">
    <div class="overflow-x-auto">
        <table class="w-full">
            <thead>
                <tr class="bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700">
                    <th class="w-12 px-4 py-3.5 text-left">
                        <input
                            type="checkbox"
                            class="w-4 h-4 rounded border-slate-300 dark:border-slate-600 text-primary-600 focus:ring-primary-500 dark:bg-slate-700 cursor-pointer"
                            @change="selectAll()"
                            :checked="allSelected"
                        >
                    </th>
                    <th class="w-28 px-4 py-3.5 text-left text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider">Mã NV</th>
                    <th class="px-4 py-3.5 text-left text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider">Họ Tên</th>
                    <th class="px-4 py-3.5 text-left text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider">SĐT/Zalo</th>
                    <th class="w-20 px-4 py-3.5 text-center text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider">Ảnh</th>
                    <th class="w-24 px-4 py-3.5 text-center text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider">Trạng thái</th>
                    <th class="w-28 px-4 py-3.5 text-center text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider">Thao tác</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-slate-100 dark:divide-slate-700">
                {% for employee in employees %}
                {% include "partials/employee_row.html" %}
                {% endfor %}
            </tbody>
        </table>
    </div>

    {% if batch_result %}
    <div class="px-6 py-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50">
        <div class="flex items-center gap-4 text-sm">
            <span class="text-slate-600 dark:text-slate-400">Kết quả gửi:</span>
            <span class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300">
                <span class="w-1.5 h-1.5 bg-emerald-500 rounded-full"></span>
                {{ batch_result.success }} thành công
            </span>
            {% if batch_result.failed > 0 %}
            <span class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium bg-rose-100 dark:bg-rose-900/30 text-rose-700 dark:text-rose-300">
                <span class="w-1.5 h-1.5 bg-rose-500 rounded-full"></span>
                {{ batch_result.failed }} thất bại
            </span>
            {% endif %}
        </div>
    </div>
    {% endif %}
</div>
{% else %}
<div class="bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden">
    <div class="py-16 text-center">
        <div class="w-16 h-16 bg-slate-100 dark:bg-slate-700 rounded-2xl flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-slate-400 dark:text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
            </svg>
        </div>
        <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-2">Chưa có dữ liệu</h3>
        <p class="text-slate-500 dark:text-slate-400 max-w-sm mx-auto">Upload file Excel để import danh sách nhân viên và bắt đầu gửi thông báo lương</p>
    </div>
</div>
{% endif %}
